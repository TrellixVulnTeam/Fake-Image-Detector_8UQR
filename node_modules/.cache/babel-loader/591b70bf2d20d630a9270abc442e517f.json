{"ast":null,"code":"import _toConsumableArray from\"/home/tejeswar/VS_Workspace/fake-image-detector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/tejeswar/VS_Workspace/fake-image-detector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import FileUpload from\"./components/file-upload/file-upload.component\";import Navbar from'./components/navigation/navbar/navbar';import'antd/dist/antd.css';import{Button,message}from\"antd\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),newUserInfo=_useState2[0],setNewUserInfo=_useState2[1];var updateUploadedFiles=function updateUploadedFiles(files){console.log(files);// setNewUserInfo({ ...newUserInfo, profileImages: files });\nsetNewUserInfo(function(prevArray){return[].concat(_toConsumableArray(prevArray),[files]);});// setTheArray(prevArray => [...prevArray, newValue])\n};var handleSubmit=function handleSubmit(event){event.preventDefault();//logic to create new user...\n// console.log(event);\n// console.log(newUserInfo);\nvar formData=new FormData();newUserInfo.forEach(function(file){formData.append(\"arrayOfFilesName\",file);});console.log(\"Form data is\"+formData);axios({method:\"POST\",url:'localhost:5000/matchFiles',data:formData,headers:{\"Content-Type\":\"multipart/form-data\"}});};// const onFormSubmit = (e)=>{\n//   e.preventDefault();\n//   let payload = this.state;\n//   console.log(\"in onFormSubmit!!! with state: \", this.state, \"and payload: \", payload);\n//   axios.post('/api/art', payload)\n//   .then(function(response){\n//   console.log('saved successfully')\n// }); \nvar compareImages=function compareImages(){try{fetch('http://localhost:8081/imageMatch',{method:'POST',headers:{'Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(json){if(json.success){message.success(\"Images are a Match\");}else{message.success(\"Images are not a match\");}}).catch(function(error){message.error(\"Internal Error\");});}catch(error){message.error(\"Internal Error\");}console.log(newUserInfo);//   setTimeout(function () {\n//     message.success(\"Files uploaded succesfully\")\n// }, 5000);\n};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex','margin-top':'5%'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'50%',margin:'10px'},children:/*#__PURE__*/_jsx(FileUpload,{accept:\".jpg,.png,.jpeg\",label:\"Upload First Image\",multiple:true,updateFilesCb:updateUploadedFiles})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'50%',margin:'10px'},children:/*#__PURE__*/_jsx(FileUpload,{accept:\".jpg,.png,.jpeg\",label:\"Upload Second Image\",multiple:true,updateFilesCb:updateUploadedFiles})})]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:compareImages,children:\"Upload and compare images\"})})})]});}export default App;","map":{"version":3,"sources":["/home/tejeswar/VS_Workspace/fake-image-detector/src/App.js"],"names":["React","useState","FileUpload","Navbar","Button","message","axios","App","newUserInfo","setNewUserInfo","updateUploadedFiles","files","console","log","prevArray","handleSubmit","event","preventDefault","formData","FormData","forEach","file","append","method","url","data","headers","compareImages","fetch","then","response","json","success","catch","error","display","width","margin","textAlign"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport FileUpload from \"./components/file-upload/file-upload.component\";\nimport Navbar from './components/navigation/navbar/navbar';\nimport 'antd/dist/antd.css'; \nimport { Button, message } from \"antd\";\nimport axios from 'axios';\n\nfunction App() {\n  const [newUserInfo, setNewUserInfo] = useState([]);\n\n  const updateUploadedFiles = (files) =>\n  {\n    console.log(files);\n    // setNewUserInfo({ ...newUserInfo, profileImages: files });\n    setNewUserInfo(prevArray => [...prevArray, files])\n    // setTheArray(prevArray => [...prevArray, newValue])\n\n  }\n \n  const handleSubmit = (event) => {\n    event.preventDefault();\n    //logic to create new user...\n    // console.log(event);\n    // console.log(newUserInfo);\n    const formData = new FormData();\n    newUserInfo.forEach(file=>{\n      formData.append(\"arrayOfFilesName\", file);\n    });\n\n    console.log(\"Form data is\"+ formData);\n    axios({\n      method: \"POST\",\n      url: 'localhost:5000/matchFiles',\n      data: formData,\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    })\n  };\n\n\n  // const onFormSubmit = (e)=>{\n  //   e.preventDefault();\n  //   let payload = this.state;\n  //   console.log(\"in onFormSubmit!!! with state: \", this.state, \"and payload: \", payload);\n  //   axios.post('/api/art', payload)\n  //   .then(function(response){\n  //   console.log('saved successfully')\n  // }); \n\n\n  const compareImages = ()=>{\n\n    try {\n\n      fetch('http://localhost:8081/imageMatch', {method: 'POST', headers: {\n        'Content-Type': 'application/json',\n      }})\n      .then(response => response.json())\n      .then(json => {\n    \n        if(json.success){\n          message.success(\"Images are a Match\")\n        } else{\n          message.success(\"Images are not a match\")\n        }\n        \n      }\n      \n      )\n        .catch((error)=>{\n          message.error(\"Internal Error\");\n        })\n    } catch (error) {\n      message.error(\"Internal Error\");\n    }\n\n\n  \n \n    \n    console.log(newUserInfo)\n  //   setTimeout(function () {\n  //     message.success(\"Files uploaded succesfully\")\n  // }, 5000);\n\n\n  }\n\n  return (\n    <div>\n      <Navbar />\n      <div style={{display:'flex', 'margin-top':'5%'}}>\n      <div style={{width:'50%', margin: '10px'}}>\n\n      <FileUpload\n          accept=\".jpg,.png,.jpeg\"\n          label=\"Upload First Image\"\n          multiple\n          updateFilesCb={updateUploadedFiles}\n        />\n      </div>\n\n\n    <div style={{width:'50%', margin: '10px'}}>\n    <FileUpload\n          accept=\".jpg,.png,.jpeg\"\n          label=\"Upload Second Image\"\n          multiple\n          updateFilesCb={updateUploadedFiles}\n        />\n    </div>\n\n      </div>\n      <form onSubmit={handleSubmit}>\n      <div style = {{textAlign:\"center\"}}>\n\n      <Button  type=\"primary\" onClick={compareImages}>\n              Upload and compare images\n            </Button>\n        \n      </div>\n\n      </form>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}